# Desktop Cleaner 用户使用指南

欢迎使用 Desktop Cleaner - 智能桌面清理工具！

## 💻 系统要求

- **Windows**: Windows 10 或更高版本
- **macOS**: macOS 10.14 或更高版本
- **Linux**: 主流发行版（Ubuntu, Fedora, Debian 等）

**无需安装 Python 或其他依赖！**

## 🚀 快速开始

### 安装和启动

1. **下载程序**
   - Windows: 下载 `DesktopCleaner.exe`
   - macOS/Linux: 下载 `DesktopCleaner`

2. **运行程序**
   - **Windows**: 双击 `DesktopCleaner.exe`
   - **macOS/Linux**:
     ```bash
     chmod +x DesktopCleaner  # 首次运行需要添加执行权限
     ./DesktopCleaner
     ```

### 首次使用

首次运行时，程序会在你的用户目录下创建配置文件：
- Windows: `C:\Users\你的用户名\.desktop-cleaner\user_config.json`
- macOS/Linux: `~/.desktop-cleaner/user_config.json`

## 🎯 主要功能

### 1. 扫描桌面文件

点击"开始扫描"按钮，程序会：
- 扫描桌面上的所有文件
- 分析文件类型、大小、修改时间等信息
- 自动跳过系统文件（.exe, .dll, .sys, .ini 等）

### 2. 智能分类

程序提供两种分析引擎：

#### 🤖 AI 引擎（通义千问）
- **优点**: 智能理解文件内容，分类更准确
- **需要**: 通义千问 API Key
- **适合**: 需要精准分类的用户

#### 📏 规则引擎（完全离线）
- **优点**: 完全离线，无需联网，完全免费
- **特点**: 基于文件扩展名和规则分类
- **适合**: 不想使用 API 或注重隐私的用户

### 3. 文件管理

分析完成后，你可以：
- 📁 **查看分类结果**: 文件被分为不同类别（文档、图片、视频等）
- 🗑️ **删除文件**: 选择不需要的文件删除
- 📦 **移动文件**: 将文件移动到指定文件夹
- 📊 **查看统计**: 了解文件分布和存储占用

## ⚙️ 设置说明

点击"设置"按钮打开配置界面：

### AI 提供商配置

#### 使用通义千问（推荐）

1. 选择 "通义千问 (需要API Key)"
2. 点击链接获取 API Key: [https://dashscope.aliyun.com/](https://dashscope.aliyun.com/)
3. 输入你的 API Key
4. 选择模型：
   - **qwen-plus** (推荐) - 平衡性能和成本
   - **qwen-max** (最强) - 最高准确度
   - **qwen-turbo** (快速) - 更快速度
   - **qwen3-coder-plus** (代码专用) - 专门处理代码文件

5. 点击"测试API Key"验证
6. 点击"保存"

#### 使用规则引擎（离线）

1. 选择 "规则引擎 (完全离线)"
2. 配置参数：
   - **旧文件阈值**: 多少天未修改算作旧文件（默认 90 天）
   - **临时文件阈值**: 多少天未修改算作临时文件（默认 7 天）
3. 点击"保存"

### 文件过滤配置

自定义要忽略的文件类型：

```
示例: .ini, .sys, .dll, .exe
```

这些类型的文件在扫描时会被自动跳过。

### 高级设置

- **启用自动降级**: AI 分析失败时自动切换到规则引擎
- **批次大小**: 每次发送给 AI 分析的文件数量（默认 10）
- **超时时间**: API 请求超时时间（默认 120 秒）

## 📋 使用技巧

### 1. 如何获得最佳分类效果？

- 使用 **AI 引擎** + **qwen-max 模型**
- 启用 **自动降级** 作为备选
- 适当调整批次大小（文件多时可增大）

### 2. 注重隐私怎么办？

- 使用 **规则引擎**（完全离线）
- 所有处理都在本地进行
- 不会上传任何文件内容

### 3. 如何节省 API 费用？

- 使用 **qwen-turbo** 模型（成本更低）
- 先使用规则引擎初步分类
- 只对不确定的文件使用 AI 分析

### 4. 配置不立即生效？

- 所有设置修改后立即生效
- 无需重启应用
- 如遇问题，可尝试重启应用

## 🔒 隐私和安全

- ✅ 所有文件处理都在本地完成
- ✅ API Key 加密存储在本地
- ✅ 使用 AI 时，仅发送文件名和元数据，不发送文件内容
- ✅ 可选择完全离线的规则引擎

## ❓ 常见问题

### Q: API Key 安全吗？

A: API Key 加密存储在你的电脑上（`~/.desktop-cleaner/user_config.json`），不会发送到除阿里云之外的任何服务器。

### Q: 程序会删除我的文件吗？

A: 程序只会显示建议，所有删除操作都需要你手动确认。

### Q: AI 分析会上传我的文件吗？

A: 不会。程序只发送文件名、大小、类型等元数据，不会上传文件内容。

### Q: 规则引擎够用吗？

A: 对于常见文件类型（文档、图片、视频等），规则引擎已经足够准确。

### Q: 支持哪些文件类型？

A: 支持所有常见文件类型，包括：
- 文档: .doc, .docx, .pdf, .txt, .xlsx 等
- 图片: .jpg, .png, .gif, .bmp 等
- 视频: .mp4, .avi, .mkv 等
- 压缩包: .zip, .rar, .7z 等
- 代码: .py, .js, .java, .cpp 等

### Q: 程序运行很慢？

A: 可能的原因：
- 桌面文件过多（超过 1000 个）
- 使用 AI 引擎且批次大小过小
- 网络连接不稳定（AI 引擎）

解决方法：
- 增大批次大小（高级设置）
- 使用规则引擎
- 检查网络连接

### Q: 配置文件在哪里？

A:
- Windows: `C:\Users\你的用户名\.desktop-cleaner\user_config.json`
- macOS/Linux: `~/.desktop-cleaner/user_config.json`

你可以手动编辑此文件，或通过设置界面修改。

## 🆘 获取帮助

遇到问题？可以：

1. 查看本使用指南
2. 查看日志文件（如果有）
3. 在 GitHub 上提交 Issue
4. 联系开发者

## 📱 快捷键

- `Ctrl+S` (Windows/Linux) 或 `Cmd+S` (macOS): 打开设置
- `Ctrl+Q` (Windows/Linux) 或 `Cmd+Q` (macOS): 退出程序

## 🎨 界面说明

- **扫描区域**: 显示扫描进度和文件列表
- **分类结果**: 展示分类后的文件分组
- **统计信息**: 显示文件数量和大小统计
- **操作按钮**: 扫描、删除、移动等操作

## 🔄 更新

程序会定期发布新版本，包含：
- 新功能
- 性能优化
- Bug 修复

请定期检查更新以获得最佳体验。

---

**祝你使用愉快！如有问题，欢迎反馈。** 😊
